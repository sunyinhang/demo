<div class="wrapper bg-bd checkIdCard" data-container="checkIdCard">
    <component is="tab-applyQuota" class="main-01"></component>
    <component is="bv-form" class="main-03" v-bind="formConfig"></component>
</div>
<script type="text/javascript">
    require(['jquery', 'util', 'Const', 'bvUpload', 'bvForm'], function($, util, Const) {
        var vm = util.bind({
            container: 'checkIdCard',
            data: {
                formConfig: {
                    clazz: 'form-align-right',
                    columns: [
                        {
                            name: 'upload',
                            clazz: 'main-02 paddt15',
                            edit: {
                                type: 'upload'
                            },
                            config: {
                                type: 'single',
                                clazz: 'camera cameraFace',
                                url: '/app/file/formUpload'
                            }
                        },
                        {
                            name: 'name',
                            config: {
                                head: '姓名',
                                attr: {
                                    placeholder: '请输入姓名'
                                },
                                validate: {
                                    required: '姓名不能为空'
                                }
                            }
                        },
                        {
                            name: 'gender',
                            config: {
                                head: '性别',
                                attr: {
                                    readonly: 'readonly'
                                },
                                validate: {
                                    required: '性别不能为空,请重新上传身份证!'
                                }
                            }
                        },
                        {
                            name: 'birthday',
                            config: {
                                head: '出生年月',
                                attr: {
                                    readonly: 'readonly'
                                },
                                validate: {
                                    required: '出生年月不能为空,请重新上传身份证!'
                                }
                            }
                        },
                        {
                            name: 'address',
                            edit: {
                                type: 'static'
                            },
                            config: {
                                head: '家庭住址'
                            }
                        },
                        {
                            name: 'idCard',
                            config: {
                                head: '证件号码',
                                attr: {
                                    readonly: 'readonly'
                                },
                                validate: {
                                    required: '证件号码不能为空,请重新上传身份证!'
                                }
                            }
                        }
                    ],
                    operates: [
                        {
                            text: '下一步',
                            clazz: 'primary',
                            preset: function (event, editType, entity) {
                                if (!entity.upload) {
                                    util.alert({
                                        content: '请使用扫描功能上传信息'
                                    });
                                    return false;
                                }
                                return true;
                            },
                            click: function (event, editType, entity) {
                                console.log('clicked');
                            }
                        }
                    ]
                }
            }
        });
    });
</script>